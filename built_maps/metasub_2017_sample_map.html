<!doctype html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
      MetaSUB Sample Map
    </title>
    <!--<link rel="stylesheet" href="leaflet/leaflet.css">-->
    <script src="https://unpkg.com/js-polyfills@0.1.43/es6.js" ></script> 
    <script src="https://unpkg.com/d3@4.9.1/build/d3.min.js"></script>
    <script src="https://unpkg.com/d3-selection-multi@1.0.1/build/d3-selection-multi.js"></script>
    <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
  </head>
  <body>
    <div id="sample-map">
      <div id="map"></div>
      <div id="data-loading">Loading Sample Data...</div>
    </div>
    <script>
      !function(e){"use strict";function t(e,i,o){var a,n=document.createElement("img");return n.onerror=function(a){return t.onerror(n,a,e,i,o)},n.onload=function(a){return t.onload(n,a,e,i,o)},"string"==typeof e?(t.fetchBlob(e,function(i){i?(e=i,a=t.createObjectURL(e)):(a=e,o&&o.crossOrigin&&(n.crossOrigin=o.crossOrigin)),n.src=a},o),n):t.isInstanceOf("Blob",e)||t.isInstanceOf("File",e)?(a=n._objectURL=t.createObjectURL(e),a?(n.src=a,n):t.readFile(e,function(e){var t=e.target;t&&t.result?n.src=t.result:i&&i(e)})):void 0}function i(e,i){!e._objectURL||i&&i.noRevoke||(t.revokeObjectURL(e._objectURL),delete e._objectURL)}var o=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&URL||window.webkitURL&&webkitURL;t.fetchBlob=function(e,t,i){t()},t.isInstanceOf=function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},t.transform=function(e,t,i,o,a){i(e,a)},t.onerror=function(e,t,o,a,n){i(e,n),a&&a.call(e,t)},t.onload=function(e,o,a,n,r){i(e,r),n&&t.transform(e,r,n,a,{})},t.createObjectURL=function(e){return!!o&&o.createObjectURL(e)},t.revokeObjectURL=function(e){return!!o&&o.revokeObjectURL(e)},t.readFile=function(e,t,i){if(window.FileReader){var o=new FileReader;if(o.onload=o.onerror=t,i=i||"readAsDataURL",o[i])return o[i](e),o}return!1},"function"==typeof define&&define.amd?define(function(){return t}):"object"==typeof module&&module.exports?module.exports=t:e.loadImage=t}(window),function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image"],e):e("object"==typeof module&&module.exports?require("./load-image"):window.loadImage)}(function(e){"use strict";var t=e.transform;e.transform=function(i,o,a,n,r){t.call(e,e.scale(i,o,r),o,a,n,r)},e.transformCoordinates=function(){},e.getTransformedOptions=function(e,t){var i,o,a,n,r=t.aspectRatio;if(!r)return t;i={};for(o in t)t.hasOwnProperty(o)&&(i[o]=t[o]);return i.crop=!0,a=e.naturalWidth||e.width,n=e.naturalHeight||e.height,a/n>r?(i.maxWidth=n*r,i.maxHeight=n):(i.maxWidth=a,i.maxHeight=a/r),i},e.renderImageToCanvas=function(e,t,i,o,a,n,r,s,l,d){return e.getContext("2d").drawImage(t,i,o,a,n,r,s,l,d),e},e.hasCanvasOption=function(e){return e.canvas||e.crop||!!e.aspectRatio},e.scale=function(t,i,o){function a(){var e=Math.max((l||v)/v,(d||w)/w);e>1&&(v*=e,w*=e)}function n(){var e=Math.min((r||v)/v,(s||w)/w);e<1&&(v*=e,w*=e)}i=i||{};var r,s,l,d,c,u,f,g,h,m,p,S=document.createElement("canvas"),b=t.getContext||e.hasCanvasOption(i)&&S.getContext,x=t.naturalWidth||t.width,y=t.naturalHeight||t.height,v=x,w=y;if(b&&(i=e.getTransformedOptions(t,i,o),f=i.left||0,g=i.top||0,i.sourceWidth?(c=i.sourceWidth,void 0!==i.right&&void 0===i.left&&(f=x-c-i.right)):c=x-f-(i.right||0),i.sourceHeight?(u=i.sourceHeight,void 0!==i.bottom&&void 0===i.top&&(g=y-u-i.bottom)):u=y-g-(i.bottom||0),v=c,w=u),r=i.maxWidth,s=i.maxHeight,l=i.minWidth,d=i.minHeight,b&&r&&s&&i.crop?(v=r,w=s,p=c/u-r/s,p<0?(u=s*c/r,void 0===i.top&&void 0===i.bottom&&(g=(y-u)/2)):p>0&&(c=r*u/s,void 0===i.left&&void 0===i.right&&(f=(x-c)/2))):((i.contain||i.cover)&&(l=r=r||l,d=s=s||d),i.cover?(n(),a()):(a(),n())),b){if(h=i.pixelRatio,h>1&&(S.style.width=v+"px",S.style.height=w+"px",v*=h,w*=h,S.getContext("2d").scale(h,h)),m=i.downsamplingRatio,m>0&&m<1&&v<c&&w<u)for(;c*m>v;)S.width=c*m,S.height=u*m,e.renderImageToCanvas(S,t,f,g,c,u,0,0,S.width,S.height),f=0,g=0,c=S.width,u=S.height,t=document.createElement("canvas"),t.width=c,t.height=u,e.renderImageToCanvas(t,S,0,0,c,u,0,0,c,u);return S.width=v,S.height=w,e.transformCoordinates(S,i),e.renderImageToCanvas(S,t,f,g,c,u,0,0,v,w)}return t.width=v,t.height=w,t}}),function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image"],e):e("object"==typeof module&&module.exports?require("./load-image"):window.loadImage)}(function(e){"use strict";var t=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);e.blobSlice=t&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},e.metaDataParsers={jpeg:{65505:[]}},e.parseMetaData=function(t,i,o,a){o=o||{},a=a||{};var n=this,r=o.maxMetaDataSize||262144,s=!(window.DataView&&t&&t.size>=12&&"image/jpeg"===t.type&&e.blobSlice);!s&&e.readFile(e.blobSlice.call(t,0,r),function(t){if(t.target.error)return console.log(t.target.error),void i(a);var r,s,l,d,c=t.target.result,u=new DataView(c),f=2,g=u.byteLength-4,h=f;if(65496===u.getUint16(0)){for(;f<g&&(r=u.getUint16(f),r>=65504&&r<=65519||65534===r);){if(s=u.getUint16(f+2)+2,f+s>u.byteLength){console.log("Invalid meta data: Invalid segment size.");break}if(l=e.metaDataParsers.jpeg[r])for(d=0;d<l.length;d+=1)l[d].call(n,u,f,s,a,o);f+=s,h=f}!o.disableImageHead&&h>6&&(c.slice?a.imageHead=c.slice(0,h):a.imageHead=new Uint8Array(c).subarray(0,h))}else console.log("Invalid JPEG file: Missing JPEG marker.");i(a)},"readAsArrayBuffer")||i(a)},e.hasMetaOption=function(e){return e&&e.meta};var i=e.transform;e.transform=function(t,o,a,n,r){e.hasMetaOption(o)?e.parseMetaData(n,function(r){i.call(e,t,o,a,n,r)},o,r):i.apply(e,arguments)}}),function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image","./load-image-meta"],e):"object"==typeof module&&module.exports?e(require("./load-image"),require("./load-image-meta")):e(window.loadImage)}(function(e){"use strict";"fetch"in window&&"Request"in window&&(e.fetchBlob=function(t,i,o){return e.hasMetaOption(o)?fetch(new Request(t,o)).then(function(e){return e.blob()}).then(i).catch(function(e){console.log(e),i()}):void i()})}),function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image","./load-image-meta"],e):"object"==typeof module&&module.exports?e(require("./load-image"),require("./load-image-meta")):e(window.loadImage)}(function(e){"use strict";e.ExifMap=function(){return this},e.ExifMap.prototype.map={Orientation:274},e.ExifMap.prototype.get=function(e){return this[e]||this[this.map[e]]},e.getExifThumbnail=function(e,t,i){var o,a,n;if(!i||t+i>e.byteLength)return void console.log("Invalid Exif data: Invalid thumbnail data.");for(o=[],a=0;a<i;a+=1)n=e.getUint8(t+a),o.push((n<16?"0":"")+n.toString(16));return"data:image/jpeg,%"+o.join("%")},e.exifTagTypes={1:{getValue:function(e,t){return e.getUint8(t)},size:1},2:{getValue:function(e,t){return String.fromCharCode(e.getUint8(t))},size:1,ascii:!0},3:{getValue:function(e,t,i){return e.getUint16(t,i)},size:2},4:{getValue:function(e,t,i){return e.getUint32(t,i)},size:4},5:{getValue:function(e,t,i){return e.getUint32(t,i)/e.getUint32(t+4,i)},size:8},9:{getValue:function(e,t,i){return e.getInt32(t,i)},size:4},10:{getValue:function(e,t,i){return e.getInt32(t,i)/e.getInt32(t+4,i)},size:8}},e.exifTagTypes[7]=e.exifTagTypes[1],e.getExifValue=function(t,i,o,a,n,r){var s,l,d,c,u,f,g=e.exifTagTypes[a];if(!g)return void console.log("Invalid Exif data: Invalid tag type.");if(s=g.size*n,l=s>4?i+t.getUint32(o+8,r):o+8,l+s>t.byteLength)return void console.log("Invalid Exif data: Invalid data offset.");if(1===n)return g.getValue(t,l,r);for(d=[],c=0;c<n;c+=1)d[c]=g.getValue(t,l+c*g.size,r);if(g.ascii){for(u="",c=0;c<d.length&&(f=d[c],"\0"!==f);c+=1)u+=f;return u}return d},e.parseExifTag=function(t,i,o,a,n){var r=t.getUint16(o,a);n.exif[r]=e.getExifValue(t,i,o,t.getUint16(o+2,a),t.getUint32(o+4,a),a)},e.parseExifTags=function(e,t,i,o,a){var n,r,s;if(i+6>e.byteLength)return void console.log("Invalid Exif data: Invalid directory offset.");if(n=e.getUint16(i,o),r=i+2+12*n,r+4>e.byteLength)return void console.log("Invalid Exif data: Invalid directory size.");for(s=0;s<n;s+=1)this.parseExifTag(e,t,i+2+12*s,o,a);return e.getUint32(r,o)},e.parseExifData=function(t,i,o,a,n){if(!n.disableExif){var r,s,l,d=i+10;if(1165519206===t.getUint32(i+4)){if(d+8>t.byteLength)return void console.log("Invalid Exif data: Invalid segment size.");if(0!==t.getUint16(i+8))return void console.log("Invalid Exif data: Missing byte alignment offset.");switch(t.getUint16(d)){case 18761:r=!0;break;case 19789:r=!1;break;default:return void console.log("Invalid Exif data: Invalid byte alignment marker.")}if(42!==t.getUint16(d+2,r))return void console.log("Invalid Exif data: Missing TIFF marker.");s=t.getUint32(d+4,r),a.exif=new e.ExifMap,s=e.parseExifTags(t,d,d+s,r,a),s&&!n.disableExifThumbnail&&(l={exif:{}},s=e.parseExifTags(t,d,d+s,r,l),l.exif[513]&&(a.exif.Thumbnail=e.getExifThumbnail(t,d+l.exif[513],l.exif[514]))),a.exif[34665]&&!n.disableExifSub&&e.parseExifTags(t,d,d+a.exif[34665],r,a),a.exif[34853]&&!n.disableExifGps&&e.parseExifTags(t,d,d+a.exif[34853],r,a)}}},e.metaDataParsers.jpeg[65505].push(e.parseExifData)}),function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image","./load-image-exif"],e):"object"==typeof module&&module.exports?e(require("./load-image"),require("./load-image-exif")):e(window.loadImage)}(function(e){"use strict";e.ExifMap.prototype.tags={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright",36864:"ExifVersion",40960:"FlashpixVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",42240:"Gamma",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37500:"MakerNote",37510:"UserComment",40964:"RelatedSoundFile",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",33434:"ExposureTime",33437:"FNumber",34850:"ExposureProgram",34852:"SpectralSensitivity",34855:"PhotographicSensitivity",34856:"OECF",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureBias",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37396:"SubjectArea",37386:"FocalLength",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41492:"SubjectLocation",41493:"ExposureIndex",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFilm",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"CameraOwnerName",42033:"BodySerialNumber",42034:"LensSpecification",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"},e.ExifMap.prototype.stringValues={ExposureProgram:{0:"Undefined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},SensingMethod:{1:"Undefined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},SceneType:{1:"Directly photographed"},CustomRendered:{0:"Normal process",1:"Custom process"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},GainControl:{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},SubjectDistanceRange:{0:"Unknown",1:"Macro",2:"Close view",3:"Distant view"},FileSource:{3:"DSC"},ComponentsConfiguration:{0:"",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"},Orientation:{1:"top-left",2:"top-right",3:"bottom-right",4:"bottom-left",5:"left-top",6:"right-top",7:"right-bottom",8:"left-bottom"}},e.ExifMap.prototype.getText=function(e){var t=this.get(e);switch(e){case"LightSource":case"Flash":case"MeteringMode":case"ExposureProgram":case"SensingMethod":case"SceneCaptureType":case"SceneType":case"CustomRendered":case"WhiteBalance":case"GainControl":case"Contrast":case"Saturation":case"Sharpness":case"SubjectDistanceRange":case"FileSource":case"Orientation":return this.stringValues[e][t];case"ExifVersion":case"FlashpixVersion":if(!t)return;return String.fromCharCode(t[0],t[1],t[2],t[3]);case"ComponentsConfiguration":if(!t)return;return this.stringValues[e][t[0]]+this.stringValues[e][t[1]]+this.stringValues[e][t[2]]+this.stringValues[e][t[3]];case"GPSVersionID":if(!t)return;return t[0]+"."+t[1]+"."+t[2]+"."+t[3]}return String(t)},function(e){var t,i=e.tags,o=e.map;for(t in i)i.hasOwnProperty(t)&&(o[i[t]]=t)}(e.ExifMap.prototype),e.ExifMap.prototype.getAll=function(){var e,t,i={};for(e in this)this.hasOwnProperty(e)&&(t=this.tags[e],t&&(i[t]=this.getText(t)));return i}}),function(e){"use strict";"function"==typeof define&&define.amd?define(["./load-image","./load-image-scale","./load-image-meta"],e):"object"==typeof module&&module.exports?e(require("./load-image"),require("./load-image-scale"),require("./load-image-meta")):e(window.loadImage)}(function(e){"use strict";var t=e.hasCanvasOption,i=e.hasMetaOption,o=e.transformCoordinates,a=e.getTransformedOptions;e.hasCanvasOption=function(i){return!!i.orientation||t.call(e,i)},e.hasMetaOption=function(t){return t&&t.orientation===!0||i.call(e,t)},e.transformCoordinates=function(t,i){o.call(e,t,i);var a=t.getContext("2d"),n=t.width,r=t.height,s=t.style.width,l=t.style.height,d=i.orientation;if(d&&!(d>8))switch(d>4&&(t.width=r,t.height=n,t.style.width=l,t.style.height=s),d){case 2:a.translate(n,0),a.scale(-1,1);break;case 3:a.translate(n,r),a.rotate(Math.PI);break;case 4:a.translate(0,r),a.scale(1,-1);break;case 5:a.rotate(.5*Math.PI),a.scale(1,-1);break;case 6:a.rotate(.5*Math.PI),a.translate(0,-r);break;case 7:a.rotate(.5*Math.PI),a.translate(n,-r),a.scale(-1,1);break;case 8:a.rotate(-.5*Math.PI),a.translate(-n,0)}},e.getTransformedOptions=function(t,i,o){var n,r,s=a.call(e,t,i),l=s.orientation;if(l===!0&&o&&o.exif&&(l=o.exif.get("Orientation")),!l||l>8||1===l)return s;n={};for(r in s)s.hasOwnProperty(r)&&(n[r]=s[r]);switch(n.orientation=l,l){case 2:n.left=s.right,n.right=s.left;break;case 3:n.left=s.right,n.top=s.bottom,n.right=s.left,n.bottom=s.top;break;case 4:n.top=s.bottom,n.bottom=s.top;break;case 5:n.left=s.top,n.top=s.left,n.right=s.bottom,n.bottom=s.right;break;case 6:n.left=s.top,n.top=s.right,n.right=s.bottom,n.bottom=s.left;break;case 7:n.left=s.bottom,n.top=s.right,n.right=s.top,n.bottom=s.left;break;case 8:n.left=s.bottom,n.top=s.left,n.right=s.top,n.bottom=s.right}return n.orientation>4&&(n.maxWidth=s.maxHeight,n.maxHeight=s.maxWidth,n.minWidth=s.minHeight,n.minHeight=s.minWidth,n.sourceWidth=s.sourceHeight,n.sourceHeight=s.sourceWidth),n}});
    </script>
    <script>
      !function(e){function t(n){if(a[n])return a[n].exports;var r=a[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var a={};t.m=e,t.c=a,t.i=function(e){return e},t.d=function(e,a,n){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/build",t(t.s=27)}([function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=function(){function e(t){n(this,e),this.addProps=function(e){var t=this;e.forEach(function(e){t[e]=function(){return 0===arguments.length?this._[e]:(this._[e]=arguments.length<=0?void 0:arguments[0],this)}})},this.addProps(t),this.props=function(){return this._},this.defaultValues={}}return r(e,[{key:"setDefaultValues",value:function(e){return Object.assign(this.defaultValues,e),this}},{key:"addTo",value:function(e){var t=Object.assign({},this.defaultValues);Object.assign(e,{_:t},this)}}]),e}();t.default=o},function(e,t){function a(e,t){var a=e[1]||"",r=e[3];if(!r)return a;if(t&&"function"==typeof btoa){var o=n(r);return[a].concat(r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"})).concat([o]).join("\n")}return[a].join("\n")}function n(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=a(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,a){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(n[o]=!0)}for(r=0;r<e.length;r++){var i=e[r];"number"==typeof i[0]&&n[i[0]]||(a&&!i[2]?i[2]=a:a&&(i[2]="("+i[2]+") and ("+a+")"),t.push(i))}},t}},function(e,t,a){function n(e,t){for(var a=0;a<e.length;a++){var n=e[a],r=h[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(c(n.parts[o],t))}else{for(var i=[],o=0;o<n.parts.length;o++)i.push(c(n.parts[o],t));h[n.id]={id:n.id,refs:1,parts:i}}}}function r(e,t){for(var a=[],n={},r=0;r<e.length;r++){var o=e[r],i=t.base?o[0]+t.base:o[0],l=o[1],s=o[2],u=o[3],c={css:l,media:s,sourceMap:u};n[i]?n[i].parts.push(c):a.push(n[i]={id:i,parts:[c]})}return a}function o(e,t){var a=g(e.insertInto);if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=b[b.length-1];if("top"===e.insertAt)n?n.nextSibling?a.insertBefore(t,n.nextSibling):a.appendChild(t):a.insertBefore(t,a.firstChild),b.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");a.appendChild(t)}}function i(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=b.indexOf(e);t>=0&&b.splice(t,1)}function l(e){var t=document.createElement("style");return e.attrs.type="text/css",u(t,e.attrs),o(e,t),t}function s(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",u(t,e.attrs),o(e,t),t}function u(e,t){Object.keys(t).forEach(function(a){e.setAttribute(a,t[a])})}function c(e,t){var a,n,r,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var u=v++;a=y||(y=l(t)),n=p.bind(null,a,u,!1),r=p.bind(null,a,u,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(a=s(t),n=d.bind(null,a,t),r=function(){i(a),a.href&&URL.revokeObjectURL(a.href)}):(a=l(t),n=f.bind(null,a),r=function(){i(a)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else r()}}function p(e,t,a,n){var r=a?"":n.css;if(e.styleSheet)e.styleSheet.cssText=w(t,r);else{var o=document.createTextNode(r),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(o,i[t]):e.appendChild(o)}}function f(e,t){var a=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}function d(e,t,a){var n=a.css,r=a.sourceMap,o=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||o)&&(n=x(n)),r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([n],{type:"text/css"}),l=e.href;e.href=URL.createObjectURL(i),l&&URL.revokeObjectURL(l)}var h={},m=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),g=function(e){var t={};return function(a){return void 0===t[a]&&(t[a]=e.call(this,a)),t[a]}}(function(e){return document.querySelector(e)}),y=null,v=0,b=[],x=a(42);e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},t.attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||(t.singleton=m()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var a=r(e,t);return n(a,t),function(e){for(var o=[],i=0;i<a.length;i++){var l=a[i],s=h[l.id];s.refs--,o.push(s)}if(e){n(r(e,t),t)}for(var i=0;i<o.length;i++){var s=o[i];if(0===s.refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete h[s.id]}}}};var w=function(){var e=[];return function(t,a){return e[t]=a,e.filter(Boolean).join("\n")}}()},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={worldBounds:[[90,-180],[-80,180]],defaultMetadata:{category:"",type:""},dataPath:"https://pangeabio.io/api/contrib/metasub/kobo_map?project=gcsd2017&format=json"};t.default=n},function(e,t,a){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return d3.extent(e,function(e){return e.time}).map(function(e,t){return 0===t?d3.timeHour.floor(e):d3.timeHour.ceil(e)})},o=function(e){return d3.extent(e,function(e){return e.length})},i=function(e){return d3.scaleTime().domain(e)},l=function(e){return d3.scaleSqrt().domain(e)},s=function(e){var t=e.samples,a=e.xScale,n=d3.timeHours(d3.timeHour.offset(a.domain()[0],-1),d3.timeHour.offset(a.domain()[1],1));return d3.histogram().value(function(e){return e.time}).domain(d3.extent(n)).thresholds(a.ticks(n.length))(t)},u=function(e){var t=r(e),a=i(t),n=s({samples:e,xScale:a}),u=o(n);return{timeExtent:t,xScale:a,yScale:l(u),sampleFrequency:n,sampleFrequencyExtent:u}},c=function(e){return Object.assign(u(e),{sampleCount:e.length})},p=(t.summarizeCitiesData=function(e){var t=e.data,a=e.metadataFilter,r=e.width,o=t.map(function(e){if(e.live){var t=e.features.filter(function(e){return""===a.category||e[a.category]===a.type});return Object.assign(c(t),e,{features:t})}return e}),i=d3.extent(o,function(e){return e.sampleCount}),l=o.filter(function(e){return e.live}).reduce(function(e,t){return[].concat(n(e),n(t.features))},[]),s=d3.scaleSqrt().domain(i).range([4,30]);return r<992&&s.range([4,20]),Object.assign(u(l),{features:o,allSamples:l,radiusScale:s})},t.formatmetadataMenu=function(e){return d3.set(e.filter(function(e){return""!==e.category}).map(function(e){return e.category})).values().map(function(t){return{category:t,category_label:e.filter(function(e){return e.category===t})[0].category_label,features:e.filter(function(e){return e.category===t})}}).filter(function(e){return""!==e.category_label})});t.processData=function(e){var t=e.citiesData,a=e.metadata,n={getCurrentSamples:function(e){var t=e.time,a=e.metadataFilter;return""===a.category||""===a.type?this.features.filter(function(e){return e.time<=t}):this.features.filter(function(e){return e.time<=t&&e[a.category]===a.type})},getCurrentSampleCount:function(e){var t=e.time,a=e.metadataFilter;return this.getCurrentSamples({time:t,metadataFilter:a}).length}};(0,e.callback)({citiesData:t.map(function(e){var t=Object.assign({},e);return e.live&&(t.features=(e.features||[]).filter(function(e){return Object.prototype.hasOwnProperty.call(e,"end")}).map(function(e){var t=Object.assign({},e);return t.time=new Date(e.end.slice(0,e.end.indexOf("."))),t.lat=e._geolocation[0],t.lon=e._geolocation[1],t.attachments=e._attachments,t.id=e._id,t})),Object.assign(t,n),t}),metadata:p(a)})}},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=function(){function e(t){n(this,e),this.setChainableProps(t),this._={}}return r(e,[{key:"props",value:function(){return this._}},{key:"setChainableProps",value:function(e){var t=this;e.forEach(function(e){t[e]=function(){return 0===arguments.length?this._[e]:(this._[e]=arguments.length<=0?void 0:arguments[0],this)}})}},{key:"defaultProps",value:function(e){Object.assign(this._,e)}}]),e}();t.default=o},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={remove:function(){d3.select("#data-loading").style("opacity",1).transition().duration(500).style("opacity",0).remove()}};t.default=n},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){var t=e.bounds,a=L.map("map",{zoomControl:!1}).fitBounds(t);return L.tileLayer("http://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png",{attribution:"&copy; <a href='http://www.openstreetmap.org/copyright'>OpenStreetMap</a> &copy; <a href='http://cartodb.com/attributions'>CartoDB</a>",subdomains:"abcd",maxZoom:19}).addTo(a),a};t.default=n},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(31),o=n(r),i=a(33),l=n(i),s=d3.format(.7),u=(new o.default).type("Point").name("cities").render("Vector").addPropMethods(["onCityClick","view","time","startTime","radiusScale","metadataFilter","tooltip"]).draw(function(){var e=this.props(),t=e.data,a=e.group,n=e.view,r=e.map,o=e.onCityClick;this._.mapTooltip=(new l.default).selection(d3.select(r.getPanes().overlayPane));var i=this.props(),s=i.mapTooltip;return a.selectAll(".map__circle").remove(),"world"===n.view&&(this._.overlayCircles=a.selectAll(".map__city-circle").data(t.filter(function(e){return e.live}).sort(function(e,t){return t.sampleCount-e.sampleCount})).enter().append("circle").attrs({class:"map__city-circle map__circle",cx:function(e){return r.latLngToLayerPoint(e).x},cy:function(e){return r.latLngToLayerPoint(e).y},cursor:"pointer"}).classed("map__city-circle--inactive",!1).on("click",function(e){s.remove(),e.live&&e.features.length>0&&o(e)}).on("touchstart",function(e){s.remove(),e.live&&e.features.length>0&&o(e)}).on("mousemove",function(){}).on("mouseout",function(){s.remove()})),this.updateTime(),this}),c=d3.timeFormat("%m/%d/%Y");u.getGlobalSampleTotal=function(){var e=this.props(),t=e.overlayCircles,a=e.runningTotal;return d3.sum(t.nodes(),function(e){return a.get(e)})},u.getCitySampleTotal=function(){return this.props().overlayCircles.data().length},u.updateTime=function(){var e=this.props(),t=e.view,a=e.time,n=e.startTime,r=e.metadataFilter,o=e.mapTooltip;if("world"===t.view){var i=this.props(),l=i.overlayCircles,u=i.radiusScale;this._.runningTotal=d3.local();var p=this.props(),f=p.runningTotal;l.each(function(e){f.set(this,e.getCurrentSampleCount({time:a,metadataFilter:r}))}).attrs({r:function(){return u(f.get(this))}}).on("mouseover",function(e){var t=d3.select(this).node().getBBox();o.position([t.x+t.width,t.y+t.height]).text([["Location: ",""+e.name_full],["Time Period: ",c(n)+" - "+c(a)],["Samples Taken: ",""+f.get(this)]]).draw()})}else if("city"===t.view){var d=this.props(),h=d.data,m=d.group,g=d.map;this._.overlayCircles=m.selectAll(".map__city-circle").data(h.getCurrentSamples({time:a,metadataFilter:r}),function(e){return e.id}),this._.overlayCircles.enter().append("circle").merge(this._.overlayCircles).attrs({class:"map__city-circle map__circle",r:4,cx:function(e){return g.latLngToLayerPoint(e).x},cy:function(e){return g.latLngToLayerPoint(e).y},cursor:"pointer"}).on("mouseover",function(e){var t=d3.select(this).node().getBBox();o.position([t.x+t.width,t.y+t.height]).text([["Location: ","("+s(e.lat)+", "+s(e.lon)+")"],["Time Submitted: ",""+c(e.time)],["Location Name: ",""+e.location],["Location Type: ",""+e.location_type],["Ground Level: ",""+e.ground_level],["Sampling Place: ",""+e.sampling_place],["Sampling Type: ",""+e.sampling_type],["Setting: ",""+e.setting],["Surface Material: ",""+e.surface_material],["Surface Sampling Protocol: ",""+e.surface_sampling_protocol]]).draw(),e.attachments.length>0&&o.div().append("div").styles({"margin-top":"5px","font-weight":"bold"}).text("CLICK TO VIEW IMAGE")}).on("click",function(e){if(e.attachments.length>0){var t="https://kc.kobotoolbox.org/attachment/original?media_file="+e.attachments[0].filename;window.open(t,"_blank")}}).on("mouseout",function(){o.remove()}),this._.overlayCircles.exit().remove(),this._.overlayCircles=m.selectAll(".map__city-circle")}},t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d3.select("#sample-map");n.getWidth=function(){return this.node().getBoundingClientRect().width},t.default=n},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),i=function(e){return e&&e.__esModule?e:{default:e}}(o),l=new i.default(["selection","data","position","onClick","metadataFilter","currentFeatures","time"]);l.setDefaultValues({position:{left:25,top:100},padding:{left:15,bottom:15,right:15,top:15},width:500,category:"",type:"",isOpen:!0});var s=function(){function e(){n(this,e),l.addTo(this),["https://res.cloudinary.com/djdqwtoc5/image/upload/c_lpad,h_90/v1497477836/metasub/Asset5.png","https://res.cloudinary.com/djdqwtoc5/image/upload/c_lpad,h_85/v1497803360/metasub/Asset6.png","https://res.cloudinary.com/djdqwtoc5/image/upload/c_lpad,h_85/v1497477836/metasub/Asset4.png"].forEach(function(e){(new Image).src=e})}return r(e,[{key:"draw",value:function(){var e=this.props(),t=e.selection;return this._.titleContainer=t.append("div").attrs({class:"menu__title-container"}),this._.menuContainer=t.append("div").attrs({class:"menu__container"}),this.drawTitle(),this.drawCategories(),this}},{key:"drawTitle",value:function(){var e=this,t=this.props(),a=t.titleContainer;this._.menuTitle=a.append("div").attrs({class:"menu__title"}).on("click",function(){var t=e.props(),a=t.isOpen;e._.isOpen=!a,e.updateOpenStatus()}).text("Filter Map by Metadata")}},{key:"drawCategories",value:function(){var e=this,t=this.props(),a=t.menuContainer,n=t.data,r=t.onClick;this._.menuRows=a.selectAll(".menu__row").data(n).enter().append("div").attrs({class:function(e){return"menu__row-container menu__row-container--"+e.category}}).append("div").attrs({class:function(e){return"menu__row menu__row--"+e.category}}).on("click",function(t){var a=e.props(),n=a.category,o=a.metadataFilter;t.category!==n?(e._.category=t.category,e.updateCategory(),e.drawTypes(),e.updateFilter()):(e._.category="",e.updateCategory(),e.removeTypes()),""!==o.type&&r({category:"",type:""})}),this._.menuButtons=this._.menuRows.append("span").attrs({class:"menu__button"}).text(function(e){return e.category_label}),this.updateOpenStatus(),this.updateCategory()}},{key:"removeTypes",value:function(){this.props().menuContainer.selectAll(".menu__types-container").transition().duration(500).style("opacity",0).remove()}},{key:"drawTypes",value:function(){var e=this,t=this.props(),a=t.menuContainer,n=t.currentFeatures,r=t.category,o=t.data,i=t.onClick;this.removeTypes();var l=n.map(function(e){return e[r]}),s=o.filter(function(e){return e.category===r})[0].features.filter(function(e){return l.includes(e.type)}),u=this._.menuContainer.node().getBoundingClientRect();this._.typesContainer=a.append("div").attrs({class:"menu__types-container"}).styles({position:"absolute",left:u.width+"px","max-height":u.height-10+"px",top:"10px",opacity:0}),this._.types=this._.typesContainer.selectAll(".menu__types-row").data(s).enter().append("div").attrs({class:function(e){return"menu__types-row menu__types-row--"+e.type}}).text(function(e){return""+e.type_label}).on("click",function(t){var a=e.props(),n=a.metadataFilter;i(n.category===t.category&&n.type===t.type&&""!==n.category?{category:"",type:""}:{category:t.category,type:t.type})}),this.drawTypeCounts(),this._.typesContainer.transition().duration(500).style("opacity",1)}},{key:"drawTypeCounts",value:function(){var e=this.props(),t=e.currentFeatures,a=e.types,n=e.category,r=function(e){return t.filter(function(t){return t[n]===e}).length};this._.typeCounts=a.append("span").text(function(e){return" ("+r(e.type)+")"})}},{key:"updateTime",value:function(){var e=this.props(),t=e.typeCounts,a=e.currentFeatures,n=e.time,r=e.category,o=function(e){return a.filter(function(t){return t[r]===e&&t.time<=n}).length};void 0!==t&&t.text(function(e){return" ("+o(e.type)+")"})}},{key:"updateOpenStatus",value:function(){var e=this.props(),t=e.menuContainer,a=e.isOpen;t.classed("menu__container--off",!a)}},{key:"updateCategory",value:function(){var e=this.props(),t=e.menuRows,a=e.category;t.classed("menu__row--active",function(e){return e.category===a})}},{key:"updateFilter",value:function(){var e=this.props(),t=e.types,a=e.metadataFilter;void 0!==t&&t.classed("menu__types-row--active",function(e){return e.category===a.category&&e.type===a.type})}},{key:"updateView",value:function(){var e=this.props(),t=e.metadataFilter;this._.category=t.category,this._.type=t.type,this.removeTypes(),this.updateCategory()}}]),e}();t.default=s},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),i=function(e){return e&&e.__esModule?e:{default:e}}(o),l=new i.default(["position","total","metadataFilter","location","time","startTime","selection"]);l.setDefaultValues({position:{left:0,bottom:150},total:0,location:"Worldwide"});var s=function(){function e(){n(this,e),l.addTo(this)}return r(e,[{key:"draw",value:function(){var e=this.props(),t=e.selection;return this._.readoutText=t.append("div").attrs({class:"map-readout"}),this.update(),this}},{key:"update",value:function(){var e=this.props(),t=e.readoutText,a=e.total,n=e.location,r=e.position,o=void 0;o=1===a?"Sample Taken":"Samples Taken",t.styles({bottom:r.bottom+10+"px"}).text(a+" "+o+" "+n)}}]),e}();t.default=s},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=a(0),l=n(i),s=a(28),u=n(s),c=a(29),p=n(c),f=a(32),d=n(f),h=new l.default(["selection","data","width","height","position","time","drag","xValue","yValue","xScale","yScale","padding"]);h.setDefaultValues({position:{left:0,bottom:0},padding:{left:65,bottom:40,right:65,top:10},textMargin:{left:10,top:15},width:800,minHeight:150,heightWidthRatio:.15,xScale:d3.scaleTime(),yScale:d3.scaleLinear()});var m=function(){function e(){r(this,e),h.addTo(this)}return o(e,[{key:"drawSVG",value:function(){var e=this.props(),t=e.selection;this._.svg=t.append("svg").attrs({class:"timeline"}).styles({position:"absolute","z-index":900,left:"0px",bottom:"0px","pointer-events":"none"})}},{key:"drawYAxisLabel",value:function(){var e=this.props(),t=e.svg,a=e.padding;t.append("text").attrs({x:a.left+30,y:30,class:"timeline__label"}).text("samples per hour")}},{key:"drawAxes",value:function(){var e=this.props(),t=e.svg;this._.axes=(new u.default).selection(t).draw();var a=this._.axes.props(),n=a.xAxis,r=a.yAxis;n.attr("class","timeline__axis"),r.attr("class","timeline__axis")}},{key:"updateAxes",value:function(){var e=this.props(),t=e.axes,a=e.xScale,n=e.yScale;t.xScale(a).yScale(n).updateAxes()}},{key:"drawLine",value:function(){var e=this.props(),t=e.svg,a=e.xScale,n=e.yScale,r=e.data;this._.line=(new p.default).data(r).xValue(function(e){return e.x1}).yValue(function(e){return e.length}).xScale(a).yScale(n).selection(t.append("g")).draw()}},{key:"updateLine",value:function(){var e=this.props(),t=e.line,a=e.xScale,n=e.yScale,r=e.data;t.data(r).xScale(a).yScale(n).draw()}},{key:"resizeLine",value:function(){var e=this.props(),t=e.line,a=e.yScale,n=e.xScale;t.xScale(n).yScale(a).resize()}},{key:"drawSlider",value:function(){var e=this.props(),t=e.svg,a=e.drag,n=e.time;this._.slider=(new d.default).currentValue(n).drag(a).selection(t).draw()}},{key:"updateSliderTime",value:function(){var e=this.props(),t=e.slider,a=e.time;t.currentValue(a).updateCurrentValue()}},{key:"resizeSlider",value:function(){var e=this.props(),t=e.slider,a=e.xScale,n=e.height,r=e.padding;t.padding(r).height(n).xScale(a).setSliderSize()}},{key:"resizeSVG",value:function(){var e=this.props(),t=e.svg,a=e.height,n=e.width;t.styles({width:n+"px",height:a+"px"})}},{key:"setScales",value:function(){var e=this.props(),t=e.xScale,a=e.yScale,n=e.height,r=e.width,o=e.padding;t.range([o.left,r-o.right]).clamp(!0),a.range([n-o.bottom,o.top])}},{key:"resizeAxes",value:function(){var e=this.props(),t=e.axes,a=e.yScale,n=e.padding,r=e.xScale,o=e.height;t.padding(n).height(o).yScale(a).xScale(r).setSize()}},{key:"setHeightFromRatio",value:function(){var e=this.props(),t=e.heightWidthRatio,a=e.width,n=e.minHeight;this._.height=t*a>n?t*a:n}},{key:"draw",value:function(){return this.drawSVG(),this.setHeightFromRatio(),this.setScales(),this.drawAxes(),this.drawLine(),this.drawSlider(),this.drawYAxisLabel(),this.updateSize(),this}},{key:"updateSize",value:function(){this.setHeightFromRatio(),this.setScales(),this.resizeSVG(),this.resizeAxes(),this.resizeLine(),this.resizeSlider()}},{key:"updateView",value:function(){this.setScales(),this.updateAxes(),this.updateLine(),this.resizeSlider()}},{key:"updateTime",value:function(){this.updateSliderTime()}}]),e}();t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(4),r=function(){var e=this.props(),t=e.metadataFilter,a=e.rawCitiesData,r=e.view,o=e.components,i=o.citiesLayer,l=o.metadataMenu,s=o.mapTimeline,u=(0,n.summarizeCitiesData)({data:a,metadataFilter:t});"city"===r.view&&(u=u.features.filter(function(e){return e.id===r.city})[0]),i.metadataFilter(t),l.metadataFilter(t).updateFilter(),s.data(u.sampleFrequency).xScale(u.xScale).yScale(u.yScale).updateView(),this.update({time:u.timeExtent[1]})};t.default=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){var e=this.props(),t=e.time,a=e.view,n=e.components,r=n.mapTimeline,o=n.citiesLayer,i=n.mapReadout;r.time(t).updateTime(),o.time(t).updateTime(),"world"===a.view?i.total(o.getGlobalSampleTotal()):"city"===a.view&&i.total(o.getCitySampleTotal()),i.update()};t.default=n},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(3),r=function(e){return e&&e.__esModule?e:{default:e}}(n),o=r.default.worldBounds,i=function(e,t,a,n,r){var o=Math.PI*e/180,i=Math.PI*a/180,l=t-n,s=Math.PI*l/180,u=Math.sin(o)*Math.sin(i)+Math.cos(o)*Math.cos(i)*Math.cos(s);return u=Math.acos(u),u=180*u/Math.PI,u=60*u*1.1515,"K"===r&&(u*=1.609344),"N"===r&&(u*=.8684),u},l=function(e){var t=parseFloat(e.lat),a=parseFloat(e.lon),n=e.features.filter(function(e){return i(t,a,e.lat,e.lon)<500});0===n.length&&(n=[{lat:t,lon:a}]);var r=d3.extent(n,function(e){return e.lat}),o=d3.extent(n,function(e){return e.lon});return[[r[1],o[0]],[r[0],o[1]]]},s=function(){var e=this.props(),t=e.view,a=e.data,n=e.components,r=n.citiesLayer,o=n.mapReadout,i=n.mapTimeline,s=n.d3Overlay,u=n.sampleMap,c=n.backButton,p=n.metadataMenu,f=a.features.filter(function(e){return e.id===t.city})[0],d=l(f);o.location("in "+f.name_full).update(),i.data(f.sampleFrequency).xScale(f.xScale).yScale(f.yScale).updateView(),s.coordinateBounds(d.map(function(e,t){return 0===t?[e[0]+.1,e[1]-.1]:[e[0]-.1,e[1]+.1]})),u.fitBounds(d),r.data(f).draw(),c.draw(),p.currentFeatures(f.features)},u=function(){var e=this.props(),t=e.data,a=e.components,n=a.citiesLayer,r=a.mapReadout,i=a.mapTimeline,l=a.d3Overlay,s=a.sampleMap,u=a.backButton,c=a.metadataMenu;r.location("Worldwide").update(),l.coordinateBounds(o).update(),n.data(t.features).draw(),i.data(t.sampleFrequency).xScale(t.xScale).yScale(t.yScale).updateView(),s.fitBounds(o),u.remove(),c.currentFeatures(t.allSamples)},c=function(){var e=this.props(),t=e.view,a=e.components,n=a.citiesLayer,r=a.metadataMenu;n.view(t),r.updateView(),"city"===t.view?s.call(this,t):"world"===t.view&&u.call(this)};t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){var e=this.props(),t=e.width,a=e.components,n=a.mapTimeline,r=a.mapReadout;n.width(t).updateSize(),r.position({bottom:n.height()}).update()};t.default=n},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),i=function(e){return e&&e.__esModule?e:{default:e}}(o),l=new i.default(["selection","onClick","className","text"]),s=function(){function e(){n(this,e),l.addTo(this)}return r(e,[{key:"draw",value:function(){var e=this.props(),t=e.selection,a=e.className,n=e.text,r=e.onClick;return t.append("span").attrs({class:a}).on("click",r).text(n),this}},{key:"remove",value:function(){var e=this.props(),t=e.selection,a=e.className;t.selectAll("."+a).remove()}}]),e}();t.default=s},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(0),s=n(l),u=a(30),c=n(u),p=new s.default(["map","overlayPane","canvas","svg","svgGroup","svgPadding","vectorLayers","geo","boundShape","coordinateBounds","rasterLayers","selectedLayers"]);p.setDefaultValues({vectorLayers:[],rasterLayers:[],selectedLayers:"all",svgPadding:0});var f=function(){function e(){o(this,e),p.addTo(this)}return i(e,[{key:"draw",value:function(e){var t=this,a=e.group,n=e.layers,r=e.map,o=this.props(),i=o.geo,l=o.overlayPane,s=o.svg;n.length>0&&n.forEach(function(e){e.geo(i).pane(l).map(r).refreshMap(t.update.bind(t)).svg(s).group(a),t.drawIfSelected(e)})}},{key:"drawIfSelected",value:function(e){var t=this.props(),a=t.selectedLayers;("all"===a||a.includes(e.name()))&&e.draw()}},{key:"updateSelectedLayers",value:function(e){var t=this.props(),a=t.selectedLayers,n=t.vectorLayers;e.forEach(function(e){a.includes(e)||n.filter(function(t){return t.name()===e})[0].draw()}),a.forEach(function(t){e.includes(t)||n.filter(function(e){return e.name()===t})[0].remove()}),this.update(),this.selectedLayers(e)}},{key:"drawBaseLayers",value:function(){var e=this.props(),t=e.map;this.overlayPane(d3.select(t.getPanes().overlayPane)),this.svg(this.overlayPane().append("svg").attr("class","d3-svg-overlay")),this.canvas(this.overlayPane().append("canvas").attr("class","leaflet-zoom-hide d3-raster-overlay").style("pointer-events","none")),this.svgGroup(this.svg().append("g").attr("class","leaflet-zoom-hide d3-vector-overlay d3-vector-overlay--path"))}},{key:"addVectorLayer",value:function(e){return this._.vectorLayers.push(e),this}},{key:"addRasterLayer",value:function(e){return this._.rasterLayers.push(e),this}},{key:"getLayerNames",value:function(){var e=this.props(),t=e.vectorLayers,a=e.rasterLayers;return[].concat(r(t.map(function(e){return e.name()})),r(a.map(function(e){return e.name()})))}},{key:"addTo",value:function(e){this.map(e),this.drawBaseLayers(),this.geo((new c.default).map(this.map()).canvasContext(d3.select(".d3-raster-overlay").node().getContext("2d")).setTransformAndPath());var t=this.props(),a=t.svgGroup,n=t.vectorLayers;return this.draw({group:a,layers:n,map:e}),this.update(),this.syncWithBasemap(),this}},{key:"syncWithBasemap",value:function(){var e=this,t=this.props(),a=t.map;a.on("zoomstart",function(){return e.hide()}),a.on("zoomend",function(){return e.show()}),a.on("moveend",function(){return e.update()})}},{key:"hide",value:function(){this.props().overlayPane.style("opacity",0)}},{key:"show",value:function(){this.props().overlayPane.style("opacity",1)}},{key:"getBounds",value:function(){var e=this.props(),t=e.boundShape,a=e.coordinateBounds,n=e.map,r=e.svgPadding;if(void 0!==t)return c.default.vectorPath().bounds(t);if(void 0!==a){var o=a.map(function(e,t){return 0===t?[e[0]+r,e[1]-r]:[e[0]-r,e[1]+r]});return[[n.latLngToLayerPoint(o[0]).x,n.latLngToLayerPoint(o[0]).y],[n.latLngToLayerPoint(o[1]).x,n.latLngToLayerPoint(o[1]).y]]}return[[n.latLngToLayerPoint([90,-180]).x,n.latLngToLayerPoint([90,-180]).y],[n.latLngToLayerPoint([-90,180]).x,n.latLngToLayerPoint([-90,180]).y]]}},{key:"update",value:function(){var t=this.props(),a=t.svgGroup,n=t.geo,r=t.svg,o=t.canvas,i=t.map,l=this.getBounds(),s=l[0],u=l[1];e.reposition({selection:r,topLeft:s,bottomRight:u}),a.attr("transform","translate("+-s[0]+","+-s[1]+")"),a.selectAll("path").attr("d",n.vectorPath()),a.selectAll("circle").attrs({cx:function(e){return i.latLngToLayerPoint(e).x},cy:function(e){return i.latLngToLayerPoint(e).y}}),a.selectAll("text").attrs({x:function(e){return i.latLngToLayerPoint(e).x+5},y:function(e){return i.latLngToLayerPoint(e).y-5}}),e.reposition({selection:o,topLeft:s,bottomRight:u})}}],[{key:"reposition",value:function(e){var t=e.selection,a=e.topLeft,n=e.bottomRight;t.attrs({width:n[0]-a[0]+"px",height:n[1]-a[1]+"px"}).styles({left:a[0]+"px",top:a[1]+"px"})}}]),e}();t.default=f},function(e,t,a){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),s=a(5),u=function(e){return e&&e.__esModule?e:{default:e}}(s),c=function(e){function t(e){r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,["callbacks"].concat(n(Object.keys(e)))));return a._={callbacks:{}},Object.keys(e).forEach(function(e){a._.callbacks[e]=[]}),Object.assign(a._,e),a}return i(t,e),l(t,[{key:"registerCallback",value:function(e){var t=this.props(),a=t.callbacks;return Object.keys(e).forEach(function(t){a[t].push(e[t])}),this}},{key:"update",value:function(e){var t=this,a=this.props(),n=a.callbacks,r=Object.keys(e);return r.forEach(function(a){return t[a](e[a])}),r.forEach(function(e){n[e].length>0&&n[e].forEach(function(e){return e.call(t)})}),this}}]),t}(u.default);t.default=c},function(e,t,a){var n=a(34);"string"==typeof n&&(n=[[e.i,n,""]]);var r={};r.transform=void 0;a(2)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,a){var n=a(35);"string"==typeof n&&(n=[[e.i,n,""]]);var r={};r.transform=void 0;a(2)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,a){var n=a(36);"string"==typeof n&&(n=[[e.i,n,""]]);var r={};r.transform=void 0;a(2)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,a){var n=a(37);"string"==typeof n&&(n=[[e.i,n,""]]);var r={};r.transform=void 0;a(2)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,a){var n=a(38);"string"==typeof n&&(n=[[e.i,n,""]]);var r={};r.transform=void 0;a(2)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,a){var n=a(39);"string"==typeof n&&(n=[[e.i,n,""]]);var r={};r.transform=void 0;a(2)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,a){var n=a(40);"string"==typeof n&&(n=[[e.i,n,""]]);var r={};r.transform=void 0;a(2)(n,r);n.locals&&(e.exports=n.locals)},function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=a(18),o=n(r),i=a(19),l=n(i),s=a(17),u=n(s),c=a(11),p=n(c),f=a(12),d=n(f),h=a(10),m=n(h),g=a(7),y=n(g),v=a(8),b=n(v),x=a(9),w=n(x),k=a(3),_=n(k),A=a(6),S=n(A),T=a(15),C=n(T),z=a(13),O=n(z),P=a(16),L=n(P),M=a(14),j=n(M),E=a(4);a(20),a(22),a(23),a(26),a(21),a(24),a(25);var F=_.default.dataPath,R=function(e){var t=e.citiesData,a=e.metadata,n=_.default.worldBounds,r=_.default.defaultMetadata;S.default.remove();var i=(0,E.summarizeCitiesData)({data:t,metadataFilter:r,width:w.default.getWidth()}),s=new l.default({data:i,rawCitiesData:t,width:w.default.getWidth(),view:{view:"world",city:""},metadataFilter:r,time:i.timeExtent[1],totalSamples:0,components:{}}),c=(0,y.default)({bounds:n});b.default.metadataFilter(r).view(s.view()).radiusScale(i.radiusScale).startTime(i.timeExtent[0]).time(s.time()).onCityClick(function(e){s.update({metadataFilter:r,view:{view:"city",city:e.id},time:e.timeExtent[1]})}).data(i.features);var f=(new o.default).coordinateBounds(n).addVectorLayer(b.default).addTo(c),h=(new d.default).data(i.sampleFrequency).drag(function(e){return s.update({time:e})}).xScale(i.xScale).yScale(i.yScale).width(s.width()).time(s.time()).selection(w.default).draw(),g=(new m.default).currentFeatures(i.allSamples).selection(w.default).metadataFilter(r).data(a).time(s.time()).onClick(function(e){return s.update({metadataFilter:e})}).draw(),v=(new u.default).selection(w.default).className("back-button").text("Back").onClick(function(){return s.update({metadataFilter:r,view:{view:"world"},time:i.timeExtent[1]})}),x=(new p.default).selection(w.default).position({bottom:h.height()}).total(i.allSamples.length).metadataFilter(s.metadataFilter()).time(s.time()).startTime(i.timeExtent[0]).location("Worldwide").draw();s.update({components:{citiesLayer:b.default,mapReadout:x,mapTimeline:h,d3Overlay:f,sampleMap:c,backButton:v,metadataMenu:g}}),s.registerCallback({metadataFilter:O.default,width:L.default,time:j.default,view:C.default}),d3.select(window).on("resize",function(){s.update({width:w.default.getWidth()})})};d3.json(F,function(e,t){var a=t.citiesData,n=t.metadata;(0,E.processData)({citiesData:a,metadata:n,callback:R})})},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),i=function(e){return e&&e.__esModule?e:{default:e}}(o),l=new i.default(["selection","yScale","xScale","padding","yAxis","xAxis","height","yAxisTicks","hasYAxis","xAxisTickFormat"]);l.setDefaultValues({yAxisTicks:4,hasYAxis:!0});var s=function(e){var t=e.yScale,a=e.yAxisTicks,n=void 0;return n=t.domain()[1]<a?t.domain()[1]:a,d3.axisLeft(t).tickFormat(d3.format("d")).ticks(n)},u=function(e){var t=e.xScale,a=e.xAxisTickFormat;return void 0!==a?t.range()[1]<=767?d3.axisBottom(t).tickFormat(a).ticks(4):d3.axisBottom(t).tickFormat(a):t.range()[1]<=767?d3.axisBottom(t).ticks(4):d3.axisBottom(t)},c=function(){function e(){n(this,e),l.addTo(this)}return r(e,[{key:"draw",value:function(){var e=this.props(),t=e.selection;return e.hasYAxis&&(this._.yAxis=t.append("g")),this._.xAxis=t.append("g"),this}},{key:"setSize",value:function(){var e=this.props(),t=e.yAxis,a=e.yScale,n=e.padding,r=e.height,o=e.xAxis,i=e.xScale,l=e.yAxisTicks,c=e.hasYAxis,p=e.xAxisTickFormat;c&&t.attrs({transform:"translate("+n.left+",0)"}).call(s({yScale:a,yAxisTicks:l})),o.attrs({transform:"translate(0,"+(r-n.bottom)+")"}).call(u({xScale:i,xAxisTickFormat:p}))}},{key:"updateAxes",value:function(){var e=this.props(),t=e.xAxis,a=e.yAxis,n=e.xScale,r=e.yScale,o=e.yAxisTicks,i=e.hasYAxis,l=e.xAxisTickFormat;i&&a.transition().duration(500).call(s({yScale:r,yAxisTicks:o})),t.transition().duration(500).call(u({xScale:n,xAxisTickFormat:l}))}}]),e}();t.default=c},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),i=function(e){return e&&e.__esModule?e:{default:e}}(o),l=new i.default(["selection","data","xScale","yScale","xValue","yValue"]),s=function(){function e(){n(this,e),l.addTo(this)}return r(e,[{key:"draw",value:function(){var e=this.props(),t=e.selection,a=e.data;return t.selectAll(".timeline__line").transition().duration(500).attrs({opacity:0}).remove(),t.selectAll(".timeline__area").transition().duration(500).attrs({opacity:0}).remove(),this._.lineGenerator=d3.line(),this._.areaGenerator=d3.area(),this._.line=t.append("path").datum(a).attrs({class:"timeline__line",opacity:0}),this._.area=t.append("path").datum(a).attrs({class:"timeline__area",opacity:0}),this.resize(),this._.line.transition().duration(500).attrs({opacity:1}),this._.area.transition().duration(500).attrs({opacity:1}),this}},{key:"resize",value:function(){var e=this.props(),t=e.line,a=e.area,n=e.xScale,r=e.yScale,o=e.xValue,i=e.yValue,l=e.lineGenerator,s=e.areaGenerator;l.x(function(e){return n(o(e))}).y(function(e){return r(i(e))}),s.x(function(e){return n(o(e))}).y1(function(e){return r(i(e))}).y0(r(0)),t.attrs({d:l}),a.attrs({d:s})}}]),e}();t.default=s},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),i=function(e){return e&&e.__esModule?e:{default:e}}(o),l=new i.default(["map","transform","vectorPath","canvasPath","canvasContext"]),s=function(){function e(){n(this,e),l.addTo(this)}return r(e,[{key:"setTransformAndPath",value:function(){var e=this.props(),t=e.canvasContext,a=e.map,n=function(e,t){var n=a.latLngToLayerPoint(new L.LatLng(t,e));this.stream.point(n.x,n.y)};return this.transform(d3.geoTransform({point:n})),this.vectorPath(d3.geoPath().projection(this.transform())),this.canvasPath(d3.geoPath().projection(this.transform()).context(t)),this}}]),e}();t.default=s},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),i=function(e){return e&&e.__esModule?e:{default:e}}(o),l=new i.default(["geo","group","pane","data","type","render","name","map","svg","refreshMap"]),s=function(){function e(){n(this,e),l.addTo(this)}return r(e,[{key:"draw",value:function(e){return Object.assign(this,{draw:e}),this}},{key:"update",value:function(e){return Object.assign(this,{update:e}),this}},{key:"remove",value:function(e){return Object.assign(this,{remove:e}),this}},{key:"addPropMethods",value:function(e){return this.addProps(e),this}}]),e}();t.default=s},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),i=function(e){return e&&e.__esModule?e:{default:e}}(o),l=new i.default(["width","height","selection","xScale","xAxis","slider","handle","drag","currentValue","handleAttrs","padding"]);l.setDefaultValues({handleAttrs:{class:"slider-circle","pointer-events":"none",r:8,fill:"black",stroke:"white","stroke-width":2}});var s=function(){function e(){n(this,e),l.addTo(this)}return r(e,[{key:"draw",value:function(){return this.drawSlider(),this.drawHandle(),this}},{key:"drawSlider",value:function(){var e=this.props(),t=e.selection,a=t.append("g").append("line").attrs({class:"track_overlay","stroke-width":50,opacity:"0",stroke:"red","pointer-events":"stroke",cursor:"pointer"});this.slider(a)}},{key:"drawHandle",value:function(){var e=this.props(),t=e.selection,a=e.handleAttrs,n=t.append("circle").attrs(a);this.handle(n)}},{key:"setHandlePosition",value:function(){var e=this.props(),t=e.currentValue,a=e.xScale,n=e.handle,r=e.height,o=e.padding,i=a(t);n.attrs({cx:i,cy:r-o.bottom})}},{key:"updateCurrentValue",value:function(){this.setHandlePosition()}},{key:"setSliderSize",value:function(){this.setTrackSize(),this.setHandlePosition()}},{key:"setTrackSize",value:function(){var e=this.props(),t=e.height,a=e.padding,n=e.slider,r=e.xScale,o=e.drag;n.attrs({x1:r.range()[0],x2:r.range()[1],transform:"translate(0,"+(t-a.bottom)+")"}).call(d3.drag().on("start.interrupt",function(){n.interrupt()}).on("start drag",function(){var e=r.invert(d3.event.x);o(e)}))}}]),e}();t.default=s},function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(5),s=function(e){return e&&e.__esModule?e:{default:e}}(l),u=function(e){function t(){n(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,["selection","text","position","div"]));return e.defaultProps({styles:{tooltip:{color:"black","font-weight":"normal","font-size":".8em","line-height":"1.5em",background:"rgba(255,255,255,.7)","padding-left":"10px","padding-right":"10px","padding-top":"4px","padding-bottom":"4px","border-radius":"5px","min-width":"250px"},titles:{"font-weight":"bold"}}}),e}return o(t,e),i(t,[{key:"styles",value:function(){var e=arguments.length<=0?void 0:arguments[0];return 0===arguments.length?this._.styles:(Object.assign(this._.styles.tooltip,e.tooltip),Object.assign(this._.styles.titles,e.titles),this)}},{key:"draw",value:function(){var e=this.props(),t=e.selection,a=e.text,n=e.position,r=e.styles;this._.div=t.append("div").styles({position:"absolute",left:n[0]+"px",top:n[1]+"px","pointer-events":"none","z-index":950,class:"tooltip",opacity:0}).styles(r.tooltip);var o=this.props(),i=o.div;return i.selectAll(".tooltip-text-row").data(a).enter().append("div").each(function(e){d3.select(this).append("span").classed("tooltip__title",!0).styles(r.titles).text(e[0]),d3.select(this).append("span").text(e[1])}),i.transition().duration(0).style("opacity",1),this}},{key:"update",value:function(){var e=this.props(),t=e.div,a=e.position;return t.styles({left:a[0]+"px",top:a[1]+"px"}),this}},{key:"remove",value:function(){var e=this.props(),t=e.div;void 0!==t&&t.transition().duration(0).style("opacity",0).remove()}}]),t}(s.default);t.default=u},function(e,t,a){var n=a(41);t=e.exports=a(1)(!1),t.push([e.i,".leaflet-image-layer,.leaflet-layer,.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-pane,.leaflet-pane>canvas,.leaflet-pane>svg,.leaflet-tile,.leaflet-tile-container,.leaflet-zoom-box{position:absolute;left:0;top:0}.leaflet-container{overflow:hidden}.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-tile{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-user-drag:none}.leaflet-safari .leaflet-tile{image-rendering:-webkit-optimize-contrast}.leaflet-safari .leaflet-tile-container{width:1600px;height:1600px;-webkit-transform-origin:0 0}.leaflet-marker-icon,.leaflet-marker-shadow{display:block}.leaflet-container .leaflet-marker-pane img,.leaflet-container .leaflet-overlay-pane svg,.leaflet-container .leaflet-shadow-pane img,.leaflet-container .leaflet-tile-pane img,.leaflet-container img.leaflet-image-layer{max-width:none!important}.leaflet-container.leaflet-touch-zoom{-ms-touch-action:pan-x pan-y;touch-action:pan-x pan-y}.leaflet-container.leaflet-touch-drag{-ms-touch-action:pinch-zoom}.leaflet-container.leaflet-touch-drag.leaflet-touch-zoom{-ms-touch-action:none;touch-action:none}.leaflet-container{-webkit-tap-highlight-color:transparent}.leaflet-container a{-webkit-tap-highlight-color:rgba(51,181,229,.4)}.leaflet-tile{filter:inherit;visibility:hidden}.leaflet-tile-loaded{visibility:inherit}.leaflet-zoom-box{width:0;height:0;-moz-box-sizing:border-box;box-sizing:border-box;z-index:800}.leaflet-overlay-pane svg{-moz-user-select:none}.leaflet-pane{z-index:400}.leaflet-tile-pane{z-index:200}.leaflet-overlay-pane{z-index:400}.leaflet-shadow-pane{z-index:500}.leaflet-marker-pane{z-index:600}.leaflet-tooltip-pane{z-index:650}.leaflet-popup-pane{z-index:700}.leaflet-map-pane canvas{z-index:100}.leaflet-map-pane svg{z-index:200}.leaflet-vml-shape{width:1px;height:1px}.lvml{behavior:url(#default#VML);display:inline-block;position:absolute}.leaflet-control{position:relative;z-index:800;pointer-events:visiblePainted;pointer-events:auto}.leaflet-bottom,.leaflet-top{position:absolute;z-index:1000;pointer-events:none}.leaflet-top{top:0}.leaflet-right{right:0}.leaflet-bottom{bottom:0}.leaflet-left{left:0}.leaflet-control{float:left;clear:both}.leaflet-right .leaflet-control{float:right}.leaflet-top .leaflet-control{margin-top:10px}.leaflet-bottom .leaflet-control{margin-bottom:10px}.leaflet-left .leaflet-control{margin-left:10px}.leaflet-right .leaflet-control{margin-right:10px}.leaflet-fade-anim .leaflet-tile{will-change:opacity}.leaflet-fade-anim .leaflet-popup{opacity:0;-webkit-transition:opacity .2s linear;-moz-transition:opacity .2s linear;-o-transition:opacity .2s linear;transition:opacity .2s linear}.leaflet-fade-anim .leaflet-map-pane .leaflet-popup{opacity:1}.leaflet-zoom-animated{-webkit-transform-origin:0 0;-ms-transform-origin:0 0;transform-origin:0 0}.leaflet-zoom-anim .leaflet-zoom-animated{will-change:transform;-webkit-transition:-webkit-transform .25s cubic-bezier(0,0,.25,1);-moz-transition:-moz-transform .25s cubic-bezier(0,0,.25,1);-o-transition:-o-transform .25s cubic-bezier(0,0,.25,1);transition:transform .25s cubic-bezier(0,0,.25,1)}.leaflet-pan-anim .leaflet-tile,.leaflet-zoom-anim .leaflet-tile{-webkit-transition:none;-moz-transition:none;-o-transition:none;transition:none}.leaflet-zoom-anim .leaflet-zoom-hide{visibility:hidden}.leaflet-interactive{cursor:pointer}.leaflet-grab{cursor:-webkit-grab;cursor:-moz-grab}.leaflet-crosshair,.leaflet-crosshair .leaflet-interactive{cursor:crosshair}.leaflet-control,.leaflet-popup-pane{cursor:auto}.leaflet-dragging .leaflet-grab,.leaflet-dragging .leaflet-grab .leaflet-interactive,.leaflet-dragging .leaflet-marker-draggable{cursor:move;cursor:-webkit-grabbing;cursor:-moz-grabbing}.leaflet-image-layer,.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-pane>svg path,.leaflet-tile-container{pointer-events:none}.leaflet-image-layer.leaflet-interactive,.leaflet-marker-icon.leaflet-interactive,.leaflet-pane>svg path.leaflet-interactive{pointer-events:visiblePainted;pointer-events:auto}.leaflet-container{background:#ddd;outline:0}.leaflet-container a{color:#0078a8}.leaflet-container a.leaflet-active{outline:2px solid orange}.leaflet-zoom-box{border:2px dotted #38f;background:hsla(0,0%,100%,.5)}.leaflet-container{font:12px/1.5 Helvetica Neue,Arial,Helvetica,sans-serif}.leaflet-bar{box-shadow:0 1px 5px rgba(0,0,0,.65);border-radius:4px}.leaflet-bar a,.leaflet-bar a:hover{background-color:#fff;border-bottom:1px solid #ccc;width:26px;height:26px;line-height:26px;display:block;text-align:center;text-decoration:none;color:#000}.leaflet-bar a,.leaflet-control-layers-toggle{background-position:50% 50%;background-repeat:no-repeat;display:block}.leaflet-bar a:hover{background-color:#f4f4f4}.leaflet-bar a:first-child{border-top-left-radius:4px;border-top-right-radius:4px}.leaflet-bar a:last-child{border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-bottom:none}.leaflet-bar a.leaflet-disabled{cursor:default;background-color:#f4f4f4;color:#bbb}.leaflet-touch .leaflet-bar a{width:30px;height:30px;line-height:30px}.leaflet-touch .leaflet-bar a:first-child{border-top-left-radius:2px;border-top-right-radius:2px}.leaflet-touch .leaflet-bar a:last-child{border-bottom-left-radius:2px;border-bottom-right-radius:2px}.leaflet-control-zoom-in,.leaflet-control-zoom-out{font:700 18px Lucida Console,Monaco,monospace;text-indent:1px}.leaflet-touch .leaflet-control-zoom-in,.leaflet-touch .leaflet-control-zoom-out{font-size:22px}.leaflet-control-layers{box-shadow:0 1px 5px rgba(0,0,0,.4);background:#fff;border-radius:5px}.leaflet-control-layers-toggle{background-image:url("+n(a(44))+");width:36px;height:36px}.leaflet-retina .leaflet-control-layers-toggle{background-image:url("+n(a(43))+");background-size:26px 26px}.leaflet-touch .leaflet-control-layers-toggle{width:44px;height:44px}.leaflet-control-layers-expanded .leaflet-control-layers-toggle,.leaflet-control-layers .leaflet-control-layers-list{display:none}.leaflet-control-layers-expanded .leaflet-control-layers-list{display:block;position:relative}.leaflet-control-layers-expanded{padding:6px 10px 6px 6px;color:#333;background:#fff}.leaflet-control-layers-scrollbar{overflow-y:scroll;padding-right:5px}.leaflet-control-layers-selector{margin-top:2px;position:relative;top:1px}.leaflet-control-layers label{display:block}.leaflet-control-layers-separator{height:0;border-top:1px solid #ddd;margin:5px -10px 5px -6px}.leaflet-default-icon-path{background-image:url("+n(a(45))+')}.leaflet-container .leaflet-control-attribution{background:#fff;background:hsla(0,0%,100%,.7);margin:0}.leaflet-control-attribution,.leaflet-control-scale-line{padding:0 5px;color:#333}.leaflet-control-attribution a{text-decoration:none}.leaflet-control-attribution a:hover{text-decoration:underline}.leaflet-container .leaflet-control-attribution,.leaflet-container .leaflet-control-scale{font-size:11px}.leaflet-left .leaflet-control-scale{margin-left:5px}.leaflet-bottom .leaflet-control-scale{margin-bottom:5px}.leaflet-control-scale-line{border:2px solid #777;border-top:none;line-height:1.1;padding:2px 5px 1px;font-size:11px;white-space:nowrap;overflow:hidden;-moz-box-sizing:border-box;box-sizing:border-box;background:#fff;background:hsla(0,0%,100%,.5)}.leaflet-control-scale-line:not(:first-child){border-top:2px solid #777;border-bottom:none;margin-top:-2px}.leaflet-control-scale-line:not(:first-child):not(:last-child){border-bottom:2px solid #777}.leaflet-touch .leaflet-bar,.leaflet-touch .leaflet-control-attribution,.leaflet-touch .leaflet-control-layers{box-shadow:none}.leaflet-touch .leaflet-bar,.leaflet-touch .leaflet-control-layers{border:2px solid rgba(0,0,0,.2);background-clip:padding-box}.leaflet-popup{position:absolute;text-align:center;margin-bottom:20px}.leaflet-popup-content-wrapper{padding:1px;text-align:left;border-radius:12px}.leaflet-popup-content{margin:13px 19px;line-height:1.4}.leaflet-popup-content p{margin:18px 0}.leaflet-popup-tip-container{width:40px;height:20px;position:absolute;left:50%;margin-left:-20px;overflow:hidden;pointer-events:none}.leaflet-popup-tip{width:17px;height:17px;padding:1px;margin:-10px auto 0;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg);transform:rotate(45deg)}.leaflet-popup-content-wrapper,.leaflet-popup-tip{background:#fff;color:#333;box-shadow:0 3px 14px rgba(0,0,0,.4)}.leaflet-container a.leaflet-popup-close-button{position:absolute;top:0;right:0;padding:4px 4px 0 0;border:none;text-align:center;width:18px;height:14px;font:16px/14px Tahoma,Verdana,sans-serif;color:#c3c3c3;text-decoration:none;font-weight:700;background:transparent}.leaflet-container a.leaflet-popup-close-button:hover{color:#999}.leaflet-popup-scrolled{overflow:auto;border-bottom:1px solid #ddd;border-top:1px solid #ddd}.leaflet-oldie .leaflet-popup-content-wrapper{zoom:1}.leaflet-oldie .leaflet-popup-tip{width:24px;margin:0 auto;-ms-filter:"progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)";filter:progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678,M12=0.70710678,M21=-0.70710678,M22=0.70710678)}.leaflet-oldie .leaflet-popup-tip-container{margin-top:-1px}.leaflet-oldie .leaflet-control-layers,.leaflet-oldie .leaflet-control-zoom,.leaflet-oldie .leaflet-popup-content-wrapper,.leaflet-oldie .leaflet-popup-tip{border:1px solid #999}.leaflet-div-icon{background:#fff;border:1px solid #666}.leaflet-tooltip{position:absolute;padding:6px;background-color:#fff;border:1px solid #fff;border-radius:3px;color:#222;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;box-shadow:0 1px 3px rgba(0,0,0,.4)}.leaflet-tooltip.leaflet-clickable{cursor:pointer;pointer-events:auto}.leaflet-tooltip-bottom:before,.leaflet-tooltip-left:before,.leaflet-tooltip-right:before,.leaflet-tooltip-top:before{position:absolute;pointer-events:none;border:6px solid transparent;background:transparent;content:""}.leaflet-tooltip-bottom{margin-top:6px}.leaflet-tooltip-top{margin-top:-6px}.leaflet-tooltip-bottom:before,.leaflet-tooltip-top:before{left:50%;margin-left:-6px}.leaflet-tooltip-top:before{bottom:0;margin-bottom:-12px;border-top-color:#fff}.leaflet-tooltip-bottom:before{top:0;margin-top:-12px;margin-left:-6px;border-bottom-color:#fff}.leaflet-tooltip-left{margin-left:-6px}.leaflet-tooltip-right{margin-left:6px}.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{top:50%;margin-top:-6px}.leaflet-tooltip-left:before{right:0;margin-right:-12px;border-left-color:#fff}.leaflet-tooltip-right:before{left:0;margin-left:-12px;border-right-color:#fff}',""])},function(e,t,a){t=e.exports=a(1)(!1),t.push([e.i,'.back-button{position:absolute;top:50px;right:25px;color:#fff;font-size:24px;z-index:800;cursor:pointer;padding-left:20px;background-image:url("https://res.cloudinary.com/djdqwtoc5/image/upload/c_scale,w_150/v1497477836/metasub/Asset3.png");background-size:100% 100%}.back-button:hover{color:#85cfc3}',""])},function(e,t,a){t=e.exports=a(1)(!1),t.push([e.i,"#sample-map{position:relative;font-family:sans-serif}#map{width:100%;height:80vh;background:#000}@media (max-width:767px){#map{height:95vh}}#data-loading{position:absolute;font-weight:700;color:#fff;top:45%;left:35%;font-size:24px;text-align:center;z-index:800}",""])},function(e,t,a){t=e.exports=a(1)(!1),t.push([e.i,".map__city-circle{fill:rgba(133,207,195,.3);stroke:#85cfc3;stroke-width:2px}.map__city-circle--inactive{stroke-width:0px;fill:hsla(0,0%,100%,.75)}@media (max-width:767px){.map__city-circle{stroke-width:1.5px}}.map__city-circle:hover{fill:rgba(133,207,195,.75)}.map__city-circle{pointer-events:auto!important}",""])},function(e,t,a){t=e.exports=a(1)(!1),t.push([e.i,'.menu__title-container{position:absolute;top:50px;left:25px;z-index:800}.menu__container{position:absolute;top:80px;left:25px;z-index:800;-webkit-transition:opacity .25s;-moz-transition:opacity .25s;-o-transition:opacity .25s;transition:opacity .25s}.menu__title{font-size:24px;padding-left:35px;background-image:url("https://res.cloudinary.com/djdqwtoc5/image/upload/v1497477836/metasub/Asset1.png");background-size:30px 28px}.menu__row,.menu__title{color:#fff;background-repeat:no-repeat;cursor:pointer}.menu__row{margin-top:10px;margin-left:25px;padding-left:25px;background-image:url("https://res.cloudinary.com/djdqwtoc5/image/upload/c_lpad,h_85/v1497477836/metasub/Asset5.png");background-size:19px 17px;background-position:0}.menu__types-container{color:#fff;margin-left:50px;padding-right:15px;font-size:14px;width:200px;overflow-y:auto}.menu__types-container::-webkit-scrollbar{-webkit-box-shadow:inset 0 0 3px rgba(133,207,195,.75);background:transparent}.menu__types-container::-webkit-scrollbar-thumb{background:rgba(133,207,195,.75)!important}.menu__row-container{max-height:200px;padding-right:15px;overflow-y:auto}.menu__types-row{cursor:pointer;margin-bottom:10px}.menu__title:hover{color:#85cfc3}.menu__row--active,.menu__row:hover,.menu__types-row--active,.menu__types-row:hover{color:#85cfc3;background-image:url("https://res.cloudinary.com/djdqwtoc5/image/upload/c_lpad,h_85/v1497803360/metasub/Asset6.png");background-size:19px 17px;background-position:0}.menu__types-row--active,.menu__types-row:hover{background-image:none}.menu__row--active,.menu__row--active:hover{background-image:url("https://res.cloudinary.com/djdqwtoc5/image/upload/c_lpad,h_85/v1497477836/metasub/Asset4.png");background-size:15px 17px;background-position:0}.menu__container--off,.menu__row--off{opacity:0;pointer-events:none}@media (max-width:767px){.menu__container,.menu__title-container{pointer-events:none;visibility:hidden}}',""])},function(e,t,a){t=e.exports=a(1)(!1),t.push([e.i,'.map-readout{position:absolute;left:25px;color:#fff;font-size:24px;z-index:800;padding-left:35px;background-image:url("https://res.cloudinary.com/djdqwtoc5/image/upload/v1497477836/metasub/Asset2.png");background-size:22px 28px;background-repeat:no-repeat}@media (max-width:767px){.map-readout{font-size:18px}}',""])},function(e,t,a){t=e.exports=a(1)(!1),t.push([e.i,".slider-circle{z-index:950}.timeline__axis line,.timeline__axis path{fill:none;stroke:#fff;stroke-width:1}.timeline__line{stroke:#85cfc3;stroke-width:1.5px;z-index:900;fill:none}.timeline__area{z-index:900;stroke:none;fill:rgba(133,207,195,.3)}.timeline__axis text{font-family:sans-serif;fill:#fff;pointer-events:none}.timeline__label{fill:#fff}",""])},function(e,t){e.exports=function(e){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var a=t.protocol+"//"+t.host,n=a+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var r=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(r))return e;var o;return o=0===r.indexOf("//")?r:0===r.indexOf("/")?a+r:n+r.replace(/^\.\//,""),"url("+JSON.stringify(o)+")"})}},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAQAAABvcdNgAAAEsklEQVR4AWL4TydIhpZK1kpWOlg0w3ZXP6D2soBtG42jeI6ZmQTHzAxiTbSJsYLjO9HhP+WOmcuhciVnmHVQcJnp7DFvScowZorad/+V/fVzMdMT2g9Cv9guXGv/7pYOrXh2U+RRR3dSd9JRx6bIFc/ekqHI29JC6pJ5ZEh1yWkhkbcFeSjxgx3L2m1cb1C7bceyxA+CNjT/Ifff+/kDk2u/w/33/IeCMOSaWZ4glosqT3DNnNZQ7Cs58/3Ce5HL78iZH/vKVIaYlqzfdLu8Vi7dnvUbEza5Idt36tquZFldl6N5Z/POLof0XLK61mZCmJSWjVF9tEjUluu74IUXvgttuVIHE7YxSkaYhJZam7yiM9Pv82JYfl9nptxZaxMJE4YSPty+vF0+Y2up9d3wwijfjZbabqm/3bZ9ecKHsiGmRflnn1MW4pjHf9oLufyn2z3y1D6n8g8TZhxyzipLNPnAUpsOiuWimg52psrTZYnOWYNDTMuWBWa0tJb4rgq1UvmutpaYEbZlwU3CLJm/ayYjHW5/h7xWLn9Hh1vepDkyf7dE7MtT5LR4e7yYpHrkhOUpEfssBLq2pPhAqoSWKUkk7EDqkmK6RrCEzqDjhNDWNE+XSMvkJRDWlZTmCW0l0PHQGRZY5t1L83kT0Y3l2SItk5JAWHl2dCOBm+fPu3fo5/3v61RMCO9Jx2EEYYhb0rmNQMX/vm7gqOEJLcXTGw3CAuRNeyaPWwjR8PRqKQ1PDA/dpv+on9Shox52WFnx0KY8onHayrJzm87i5h9xGw/tfkev0jGsQizqezUKjk12hBMKJ4kbCqGPVNXudyyrShovGw5CgxsRICxF6aRmSjlBnHRzg7Gx8fKqEubI2rahQYdR1YgDIRQO7JvQyD52hoIQx0mxa0ODtW2Iozn1le2iIRdzwWewedyZzewidueOGqlsn1MvcnQpuVwLGG3/IR1hIKxCjelIDZ8ldqWz25jWAsnldEnK0Zxro19TGVb2ffIZEsIO89EIEDvKMPrzmBOQcKQ+rroye6NgRRxqR4U8EAkz0CL6uSGOm6KQCdWjvjRiSP1BPalCRS5iQYiEIvxuBMJEWgzSoHADcVMuN7IuqqTeyUPq22qFimFtxDyBBJEwNyt6TM88blFHao/6tWWhuuOM4SAK4EI4QmFHA+SEyWlp4EQoJ13cYGzMu7yszEIBOm2rVmHUNqwAIQabISNMRstmdhNWcFLsSm+0tjJH1MdRxO5Nx0WDMhCtgD6OKgZeljJqJKc9po8juskR9XN0Y1lZ3mWjLR9JCO1jRDMd0fpYC2VnvjBSEFg7wBENc0R9HFlb0xvF1+TBEpF68d+DHR6IOWVv2BECtxo46hOFUBd/APU57WIoEwJhIi2CdpyZX0m93BZicktMj1AS9dClteUFAUNUIEygRZCtik5zSxI9MubTBH1GOiHsiLJ3OCoSZkILa9PxiN0EbvhsAo8tdAf9Seepd36lGWHmtNANTv5Jd0z4QYyeo/UEJqxKRpg5LZx6btLPsOaEmdMyxYdlc8LMaJnikDlhclqmPiQnTEpLUIZEwkRagjYkEibQErwhkTAKCLQEbUgkzJQWc/0PstHHcfEdQ+UAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAQAAAADQ4RFAAACf0lEQVR4AY1UM3gkARTePdvdoTxXKc+qTl3aU5U6b2Kbkz3Gtq3Zw6ziLGNPzrYx7946Tr6/ee/XeCQ4D3ykPtL5tHno4n0d/h3+xfuWHGLX81cn7r0iTNzjr7LrlxCqPtkbTQEHeqOrTy4Yyt3VCi/IOB0v7rVC7q45Q3Gr5K6jt+3Gl5nCoDD4MtO+j96Wu8atmhGqcNGHObuf8OM/x3AMx38+4Z2sPqzCxRFK2aF2e5Jol56XTLyggAMTL56XOMoS1W4pOyjUcGGQdZxU6qRh7B9Zp+PfpOFlqt0zyDZckPi1ttmIp03jX8gyJ8a/PG2yutpS/Vol7peZIbZcKBAEEheEIAgFbDkz5H6Zrkm2hVWGiXKiF4Ycw0RWKdtC16Q7qe3X4iOMxruonzegJzWaXFrU9utOSsLUmrc0YjeWYjCW4PDMADElpJSSQ0vQvA1Tm6/JlKnqFs1EGyZiFCqnRZTEJJJiKRYzVYzJck2Rm6P4iH+cmSY0YzimYa8l0EtTODFWhcMIMVqdsI2uiTvKmTisIDHJ3od5GILVhBCarCfVRmo4uTjkhrhzkiBV7SsaqS+TzrzM1qpGGUFt28pIySQHR6h7F6KSwGWm97ay+Z+ZqMcEjEWebE7wxCSQwpkhJqoZA5ivCdZDjJepuJ9IQjGGUmuXJdBFUygxVqVsxFsLMbDe8ZbDYVCGKxs+W080max1hFCarCfV+C1KATwcnvE9gRRuMP2prdbWGowm1KB1y+zwMMENkM755cJ2yPDtqhTI6ED1M/82yIDtC/4j4BijjeObflpO9I9MwXTCsSX8jWAFeHr05WoLTJ5G8IQVS/7vwR6ohirYM7f6HzYpogfS3R2OAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII="}]);
    </script> 
  </body>
</html>